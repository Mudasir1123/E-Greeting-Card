@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@{
    ViewData["Title"] = "User Management | E-Greeting Card Platform";
    Layout = "_AdminLayout";
}

<!-- Breadcrumbs & Page Title -->
<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6">
    <div>
        <div class="flex items-center text-sm text-gray-500 mb-2">
            <a asp-controller="Admin" asp-action="Dashboard" class="hover:text-primary">Dashboard</a>
            <div class="w-4 h-4 flex items-center justify-center mx-1">
                <i class="ri-arrow-right-s-line"></i>
            </div>
            <span class="text-gray-700">User Management</span>
        </div>
        <h1 class="text-2xl font-bold text-gray-900">User Management</h1>
    </div>
    <button id="add-user-btn" class="mt-3 sm:mt-0 px-4 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-primary/90 whitespace-nowrap">
        <div class="flex items-center">
            <div class="w-4 h-4 flex items-center justify-center mr-2">
                <i class="ri-user-add-line"></i>
            </div>
            Add New User
        </div>
    </button>
</div>

<!-- Filters & Search -->
<div class="bg-white rounded shadow p-4 mb-6">
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4">
        <div class="flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4">
            <div class="relative inline-block text-left dropdown">
                <button class="flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">
                    <span>All Roles</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                        <i class="ri-arrow-down-s-line"></i>
                    </div>
                </button>
                <div class="dropdown-content mt-1">
                    <div class="py-1">
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">All Roles</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Admin</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Editor</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">User</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Guest</a>
                    </div>
                </div>
            </div>
            <div class="relative inline-block text-left dropdown">
                <button class="flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">
                    <span>Status</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                        <i class="ri-arrow-down-s-line"></i>
                    </div>
                </button>
                <div class="dropdown-content mt-1">
                    <div class="py-1">
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">All Status</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Active</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Inactive</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="relative w-full sm:w-64">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                    <i class="ri-search-line"></i>
                </div>
            </div>
            <input type="search" class="pl-10 pr-4 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 w-full" placeholder="Search users...">
        </div>
    </div>
</div>

<!-- Bulk Actions (appears when items are selected) -->
<div id="bulk-actions" class="bg-blue-50 rounded shadow p-4 mb-6 hidden">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
        <div class="flex items-center">
            <span class="text-sm font-medium text-gray-700 mr-4">3 users selected</span>
            <button class="text-sm text-gray-600 hover:text-gray-900 mr-4">
                <div class="flex items-center">
                    <div class="w-4 h-4 flex items-center justify-center mr-1">
                        <i class="ri-delete-bin-line"></i>
                    </div>
                    Delete
                </div>
            </button>
            <button class="text-sm text-gray-600 hover:text-gray-900">
                <div class="flex items-center">
                    <div class="w-4 h-4 flex items-center justify-center mr-1">
                        <i class="ri-toggle-line"></i>
                    </div>
                    Change Status
                </div>
            </button>
        </div>
        <button class="mt-3 sm:mt-0 text-sm text-gray-600 hover:text-gray-900">
            <div class="flex items-center">
                <div class="w-4 h-4 flex items-center justify-center mr-1">
                    <i class="ri-close-line"></i>
                </div>
                Cancel Selection
            </div>
        </button>
    </div>
</div>

<!-- Users Table -->
<div class="bg-white rounded shadow overflow-hidden mb-6">
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" id="select-all">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        <div class="flex items-center">
                            <span>Role</span>
                            <button class="ml-1">
                                <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                    <i class="ri-arrow-up-s-line"></i>
                                </div>
                            </button>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        <div class="flex items-center">
                            <span>Created</span>
                            <button class="ml-1">
                                <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                    <i class="ri-arrow-down-s-line"></i>
                                </div>
                            </button>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="user-checkbox">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="h-10 w-10 flex-shrink-0 mr-4 rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520business%2520woman%2520with%2520blonde%2520hair%2520and%2520a%2520confident%2520smile%252C%2520high%2520quality%252C%2520corporate%2520portrait%252C%2520neutral%2520background%252C%2520professional%2520attire&width=100&height=100&seq=user1&orientation=squarish" alt="User" class="h-full w-full object-cover">
                            </div>
                            <div>
                                <div class="text-sm font-medium text-gray-900">Olivia Martinez</div>
                                <div class="text-sm text-gray-500">olivia.martinez@example.com</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full">Admin</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apr 15, 2025</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <label class="custom-switch">
                            <input type="checkbox" checked>
                            <span class="switch-slider"></span>
                        </label>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex items-center justify-end space-x-2">
                            <button class="p-1 text-gray-500 hover:text-primary edit-user-btn" title="Edit">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-edit-line"></i>
                                </div>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-red-500 delete-user-btn" title="Delete">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-delete-bin-line"></i>
                                </div>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="user-checkbox">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="h-10 w-10 flex-shrink-0 mr-4 rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520business%2520man%2520with%2520dark%2520hair%2520and%2520glasses%252C%2520high%2520quality%252C%2520corporate%2520portrait%252C%2520neutral%2520background%252C%2520professional%2520attire&width=100&height=100&seq=user2&orientation=squarish" alt="User" class="h-full w-full object-cover">
                            </div>
                            <div>
                                <div class="text-sm font-medium text-gray-900">Ethan Wilson</div>
                                <div class="text-sm text-gray-500">ethan.wilson@example.com</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Editor</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apr 12, 2025</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <label class="custom-switch">
                            <input type="checkbox" checked>
                            <span class="switch-slider"></span>
                        </label>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex items-center justify-end space-x-2">
                            <button class="p-1 text-gray-500 hover:text-primary edit-user-btn" title="Edit">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-edit-line"></i>
                                </div>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-red-500 delete-user-btn" title="Delete">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-delete-bin-line"></i>
                                </div>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="user-checkbox">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="h-10 w-10 flex-shrink-0 mr-4 rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520business%2520woman%2520with%2520dark%2520skin%2520and%2520natural%2520hair%252C%2520high%2520quality%252C%2520corporate%2520portrait%252C%2520neutral%2520background%252C%2520professional%2520attire&width=100&height=100&seq=user3&orientation=squarish" alt="User" class="h-full w-full object-cover">
                            </div>
                            <div>
                                <div class="text-sm font-medium text-gray-900">Amara Johnson</div>
                                <div class="text-sm text-gray-500">amara.johnson@example.com</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">User</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apr 10, 2025</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <label class="custom-switch">
                            <input type="checkbox" checked>
                            <span class="switch-slider"></span>
                        </label>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex items-center justify-end space-x-2">
                            <button class="p-1 text-gray-500 hover:text-primary edit-user-btn" title="Edit">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-edit-line"></i>
                                </div>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-red-500 delete-user-btn" title="Delete">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-delete-bin-line"></i>
                                </div>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="user-checkbox">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="h-10 w-10 flex-shrink-0 mr-4 rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520business%2520man%2520with%2520asian%2520features%2520and%2520a%2520friendly%2520smile%252C%2520high%2520quality%252C%2520corporate%2520portrait%252C%2520neutral%2520background%252C%2520professional%2520attire&width=100&height=100&seq=user4&orientation=squarish" alt="User" class="h-full w-full object-cover">
                            </div>
                            <div>
                                <div class="text-sm font-medium text-gray-900">Hiroshi Tanaka</div>
                                <div class="text-sm text-gray-500">hiroshi.tanaka@example.com</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">Guest</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apr 8, 2025</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <label class="custom-switch">
                            <input type="checkbox">
                            <span class="switch-slider"></span>
                        </label>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex items-center justify-end space-x-2">
                            <button class="p-1 text-gray-500 hover:text-primary edit-user-btn" title="Edit">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-edit-line"></i>
                                </div>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-red-500 delete-user-btn" title="Delete">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-delete-bin-line"></i>
                                </div>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="user-checkbox">
                                <span class="checkbox-mark"></span>
                            </label>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="h-10 w-10 flex-shrink-0 mr-4 rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520business%2520woman%2520with%2520red%2520hair%2520and%2520a%2520confident%2520expression%252C%2520high%2520quality%252C%2520corporate%2520portrait%252C%2520neutral%2520background%252C%2520professional%2520attire&width=100&height=100&seq=user5&orientation=squarish" alt="User" class="h-full w-full object-cover">
                            </div>
                            <div>
                                <div class="text-sm font-medium text-gray-900">Sophie Anderson</div>
                                <div class="text-sm text-gray-500">sophie.anderson@example.com</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Editor</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apr 5, 2025</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <label class="custom-switch">
                            <input type="checkbox" checked>
                            <span class="switch-slider"></span>
                        </label>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex items-center justify-end space-x-2">
                            <button class="p-1 text-gray-500 hover:text-primary edit-user-btn" title="Edit">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-edit-line"></i>
                                </div>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-red-500 delete-user-btn" title="Delete">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-delete-bin-line"></i>
                                </div>
                            </button>
                        </div>
                    </td>
                </tr>
                <!-- Additional rows would continue here -->
            </tbody>
        </table>
    </div>
    <!-- Pagination -->
    <div class="px-6 py-4 bg-white border-t border-gray-200">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
            <div class="flex items-center">
                <span class="text-sm text-gray-700 mr-2">Show</span>
                <div class="relative inline-block text-left dropdown">
                    <button class="flex items-center justify-between px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">
                        <span>10</span>
                        <div class="w-4 h-4 flex items-center justify-center ml-1">
                            <i class="ri-arrow-down-s-line"></i>
                        </div>
                    </button>
                    <div class="dropdown-content mt-1">
                        <div class="py-1">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">10</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">25</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">50</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">100</a>
                        </div>
                    </div>
                </div>
                <span class="text-sm text-gray-700 ml-2">entries</span>
            </div>
            <div class="mt-4 sm:mt-0 flex items-center justify-center">
                <span class="text-sm text-gray-700 mr-4">Showing 1 to 10 of 35 entries</span>
                <nav class="flex items-center space-x-1">
                    <button class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="w-4 h-4 flex items-center justify-center mr-1">
                                <i class="ri-arrow-left-s-line"></i>
                            </div>
                            Previous
                        </div>
                    </button>
                    <button class="px-3 py-1 text-sm font-medium text-white bg-primary border border-primary rounded-button whitespace-nowrap">1</button>
                    <button class="px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">2</button>
                    <button class="px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">3</button>
                    <button class="px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">4</button>
                    <button class="px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap">
                        <div class="flex items-center">
                            Next
                            <div class="w-4 h-4 flex items-center justify-center ml-1">
                                <i class="ri-arrow-right-s-line"></i>
                            </div>
                        </div>
                    </button>
                </nav>
            </div>
        </div>
    </div>
</div>

<!-- Add/Edit User Modal -->
<div id="user-modal" class="modal">
    <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-lg font-medium text-gray-900" id="modal-title">Add New User</h3>
            <button id="close-modal" class="text-gray-400 hover:text-gray-500">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-close-line"></i>
                </div>
            </button>
        </div>
        <form id="user-form">
            <div class="space-y-4">
                <div>
                    <label for="user-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="user-name" class="w-full px-3 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20" placeholder="Enter full name">
                </div>
                <div>
                    <label for="user-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="user-email" class="w-full px-3 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20" placeholder="Enter email address">
                </div>
                <div>
                    <label for="user-role" class="block text-sm font-medium text-gray-700 mb-1">Role</label>
                    <div class="relative">
                        <select id="user-role" class="w-full px-3 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 appearance-none pr-8">
                            <option value="admin">Admin</option>
                            <option value="editor">Editor</option>
                            <option value="user">User</option>
                            <option value="guest">Guest</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                            <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <label for="user-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="user-password" class="w-full px-3 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20" placeholder="Enter password">
                </div>
                <div>
                    <label for="user-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                    <input type="password" id="user-confirm-password" class="w-full px-3 py-2 border border-gray-300 rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-primary/20" placeholder="Confirm password">
                </div>
                <div class="flex items-center">
                    <label class="inline-flex items-center">
                        <input type="checkbox" id="user-status" class="form-checkbox h-4 w-4 text-primary rounded border-gray-300">
                        <span class="ml-2 text-sm text-gray-700">Active</span>
                    </label>
                </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button type="button" id="cancel-button" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-button text-sm font-medium hover:bg-gray-200 whitespace-nowrap">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-primary/90 whitespace-nowrap">Save User</button>
            </div>
        </form>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="delete-modal" class="modal">
    <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-lg font-medium text-gray-900">Confirm Delete</h3>
            <button id="close-delete-modal" class="text-gray-400 hover:text-gray-500">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-close-line"></i>
                </div>
            </button>
        </div>
        <div class="mb-6">
            <p class="text-sm text-gray-500">Are you sure you want to delete this user? This action cannot be undone.</p>
        </div>
        <div class="flex justify-end space-x-3">
            <button id="cancel-delete" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-button text-sm font-medium hover:bg-gray-200 whitespace-nowrap">Cancel</button>
            <button id="confirm-delete" class="px-4 py-2 bg-red-600 text-white rounded-button text-sm font-medium hover:bg-red-700 whitespace-nowrap">Delete User</button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Handle select all checkbox
            const selectAllCheckbox = document.getElementById('select-all');
            const userCheckboxes = document.querySelectorAll('.user-checkbox');
            const bulkActions = document.getElementById('bulk-actions');

            selectAllCheckbox.addEventListener('change', function() {
                const isChecked = this.checked;
                userCheckboxes.forEach(checkbox => {
                    checkbox.checked = isChecked;
                });
                updateBulkActionsVisibility();
            });

            // Handle individual checkboxes
            userCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateSelectAllCheckbox();
                    updateBulkActionsVisibility();
                });
            });

            // Update the "select all" checkbox state
            function updateSelectAllCheckbox() {
                const checkedCount = document.querySelectorAll('.user-checkbox:checked').length;
                selectAllCheckbox.checked = checkedCount === userCheckboxes.length && userCheckboxes.length > 0;
            }

            // Show/hide bulk actions based on selection
            function updateBulkActionsVisibility() {
                const checkedCount = document.querySelectorAll('.user-checkbox:checked').length;
                if (checkedCount > 0) {
                    bulkActions.classList.remove('hidden');
                } else {
                    bulkActions.classList.add('hidden');
                }
            }

            // Cancel selection button
            const cancelSelectionButton = document.querySelector('#bulk-actions button:last-child');
            if (cancelSelectionButton) {
                cancelSelectionButton.addEventListener('click', function() {
                    selectAllCheckbox.checked = false;
                    userCheckboxes.forEach(checkbox => {
                        checkbox.checked = false;
                    });
                    bulkActions.classList.add('hidden');
                });
            }

            // Modal functionality
            const userModal = document.getElementById('user-modal');
            const deleteModal = document.getElementById('delete-modal');
            const addUserBtn = document.getElementById('add-user-btn');
            const closeModalBtn = document.getElementById('close-modal');
            const cancelBtn = document.getElementById('cancel-button');
            const closeDeleteModalBtn = document.getElementById('close-delete-modal');
            const cancelDeleteBtn = document.getElementById('cancel-delete');
            const editUserBtns = document.querySelectorAll('.edit-user-btn');
            const deleteUserBtns = document.querySelectorAll('.delete-user-btn');
            const modalTitle = document.getElementById('modal-title');

            // Open add user modal
            addUserBtn.addEventListener('click', function() {
                modalTitle.textContent = 'Add New User';
                document.getElementById('user-form').reset();
                userModal.style.display = 'block';
            });

            // Close user modal
            function closeUserModal() {
                userModal.style.display = 'none';
            }

            closeModalBtn.addEventListener('click', closeUserModal);
            cancelBtn.addEventListener('click', closeUserModal);

            // Close delete modal
            function closeDeleteModal() {
                deleteModal.style.display = 'none';
            }

            closeDeleteModalBtn.addEventListener('click', closeDeleteModal);
            cancelDeleteBtn.addEventListener('click', closeDeleteModal);

            // Open edit user modal
            editUserBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    modalTitle.textContent = 'Edit User';
                    userModal.style.display = 'block';
                    // Here you would typically populate the form with the user's data
                });
            });

            // Open delete confirmation modal
            deleteUserBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    deleteModal.style.display = 'block';
                });
            });

            // Close modals when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === userModal) {
                    closeUserModal();
                }
                if (event.target === deleteModal) {
                    closeDeleteModal();
                }
            });

            // Form submission (prevent default for demo)
            document.getElementById('user-form').addEventListener('submit', function(e) {
                e.preventDefault();
                // Here you would typically handle the form submission
                closeUserModal();
            });

            // Delete confirmation
            document.getElementById('confirm-delete').addEventListener('click', function() {
                // Here you would typically handle the delete action
                closeDeleteModal();
            });
        });
    </script>
}
